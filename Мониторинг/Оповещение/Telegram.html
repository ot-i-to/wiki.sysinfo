<!--
title: Bot
description: 
published: false
date: 2021-12-27T16:02:45.149Z
tags: telegram, notification, оповещение, мониторинг, bot, бот
editor: ckeditor
dateCreated: 2021-12-27T14:55:04.141Z
-->

<p><strong>Пример для Monit, но можно использовать для любой программы в Linux, если программа в состоянии выполнять дополнительные shell скрипты по событиям.</strong></p>
<hr>
<p style="text-align:justify;">Здесь описывать как устанавливать и настраивать Monit … не будем, т.е. посмотреть можно например тут <a href="https://www.altlinux.org/Motion">https://www.altlinux.org/Motion</a> .</p>
<p style="text-align:justify;">А тут мы рассмотрим простой пример отправки текстовых оповещений, фотографий и файлов с видео записью с использованием <a href="https://core.telegram.org/bots/api">Telegram Bot API</a>.</p>
<p style="text-align:justify;"><strong>1) </strong>Создаем / регистрируем бота. Для этого в Telegram существует специальный бот <a href="https://telegram.me/botfather">@BotFather</a>. Нам необходимо &nbsp;получить для нового бота уникальный токен.</p>
<p>Подключившись к боту @BotFather и даем команду<strong> </strong><mark class="pen-red"><strong>/newbot</strong></mark> … после чего телеграмм просит придумать имя нашему новому боту. Единственное ограничение на имя бота - оно должно оканчиваться на «bot». Например <strong>CAMERA_1_bot.&nbsp;</strong></p>
<p>В случае успеха мы получим следующее сообщение:</p>
<pre><code class="language-plaintext">Done! Congratulations on your new bot. You will find it at t.me/CAMERA_1_bot. 
You can now add a description, about section and profile picture for your bot, see /help for a list of commands. 
By the way, when you've finished creating your cool bot, ping our Bot Support if you want a better username for it. 
Just make sure the bot is fully operational before you do this.

Use this token to access the HTTP API:
5975403111:AAE7KgyWqSMfoj-13V0ULeXMxIb6-0e8XMc
Keep your token secure and store it safely, it can be used by anyone to control your bot.

For a description of the Bot API, see this page: https://core.telegram.org/bots/api</code></pre>
<p>Итак мы получили токен <code>5975403111:AAE7KgyWqSMfoj-13V0ULeXMxIb6-0e8XMc</code></p>
<p>Обязательно проверим, что бот создался выполнив команду:</p>
<pre><code class="language-plaintext"># curl -s -X POST "https://api.telegram.org/bot5975403111:AAE7KgyWqSMfoj-13V0ULeXMxIb6-0e8XMc/getMe"</code></pre>
<p>... в случае удачи будет ответ в JSON формате:</p>
<pre><code class="language-plaintext">{"ok":true,
 "result":
    {"id":5975403111,
    "is_bot":true,
    "first_name":"CAMERA_1_bot",
    "username":"CAMERA_1_bot",
    "can_join_groups":true,
    "can_read_all_group_messages":false,
    "supports_inline_queries":false}
}</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
