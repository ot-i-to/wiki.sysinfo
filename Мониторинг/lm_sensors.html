<!--
title: lm_sensors fine tuning
description: /etc/sensors.d - параметров
published: true
date: 2022-08-18T15:48:49.186Z
tags: linux, lm-sensors, lm_sensors, sensors, sensors.d
editor: ckeditor
dateCreated: 2022-08-18T15:42:24.556Z
-->

<p><span class="text-big"><i><u>Установка lm-sensors тут описываться не будет, а только настройка и использование.</u></i></span></p>
<p>Команда: <strong>sensors</strong> - распечатать информацию о датчиках</p>
<p><u>Синтаксис</u>:<br><strong>sensors [</strong> опции <strong>] [</strong> <i>chips</i> <strong>]</strong><br><strong>sensors -s [</strong> <i>chips</i> <strong>]</strong></p>
<p><strong>sensors --bus-list</strong></p>
<p><u>Описание</u><strong>:</strong><br><strong>sensors</strong> используется для отображения текущих показаний всех сенсорных чипов.<br><strong>sensors -s</strong> используется для установки всех ограничений, указанных в файле конфигурации.<br><strong>sensors --bus-list</strong> используются для генерации операторов шины, подходящих для файла конфигурации.</p>
<p><u>Опции</u>:</p>
<p><strong><u>-c, --config-file</u></strong> config-file … Укажите файл конфигурации. Если файл не указан, используется файл конфигурации по умолчанию. Используйте '-c /dev/null', чтобы временно отключить этот файл конфигурации по умолчанию.</p>
<p><strong><u>-h, --config-file</u></strong> … Распечатать текст справки и выйти.</p>
<p><strong><u>-s</u></strong> .. Оцените все операторы set в файле конфигурации и выйдите. Вы должны быть «root», чтобы сделать это. Если этот параметр не указан, оператор set не оценивается.</p>
<p><strong><u>-A</u></strong> .. не показывать адаптер для каждого чипа.</p>
<p><strong><u>-u</u></strong> … Сырой вывод. Этот режим предназначен только для отладки.</p>
<p><strong><u>-v</u></strong> … Распечатайте версию программы и выйдите.</p>
<p><strong><u>-f</u></strong> …Print the temperatures in degrees Fahrenheit instead of Celsius.</p>
<p><strong><u>--bus-list</u></strong> … Generate bus statements suitable for using in sensors.conf. Such bus statements are only needed if you have several chips sharing the same address on different buses of the same type. As bus numbers are usually not guaranteed to be stable over reboots, these statements let you refer to each bus by its name rather than numbers.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>Label</h3>
<p>Оператор <i>label</i> описывает, как должна вызываться функция. Функции без оператора метки просто называются по имени функции. Приложения могут использовать это для маркировки показаний, которые они представляют. Пример:</p>
<blockquote>
  <p>label in3 "+5V"</p>
</blockquote>
<p>Первый аргумент — это имя функции. Второй аргумент — это описание функции.</p>
<h3>Ignore</h3>
<p>Оператор <i>ignore</i> — это намек на то, что конкретную функцию следует игнорировать — вероятно, потому, что она возвращает фиктивные значения (например, потому что вентилятор или датчик температуры не подключены). Пример:</p>
<blockquote>
  <p>ignore fan1</p>
</blockquote>
<p>Единственным аргументом является имя функции. Обратите внимание, что это ничего не отключает в фактическом сенсорном чипе; он просто скрывает отображение данных.</p>
<h3>Compute</h3>
<p>Оператор <i>compute</i> описывает, как необработанное значение функции должно быть преобразовано в реальное значение и как реальное значение должно быть снова преобразовано обратно в необработанное значение. Это наиболее полезно для датчиков напряжения, потому что, как правило, чипы датчиков имеют ограниченный диапазон, и напряжения за пределами этого диапазона должны быть разделены (с использованием резисторов), прежде чем их можно будет контролировать. Пример:</p>
<blockquote>
  <p>compute in3 ((6.8/10)+1)*@, @/((6.8/10)+1)</p>
</blockquote>
<p>В приведенном выше примере показано, что входное напряжение разделено с помощью двух резисторов со значениями 6,8 Ом и 10 Ом соответственно. Подробности см. в разделе <strong>ДЕТАЛИ РАСЧЕТА НАПРЯЖЕНИЯ</strong> ниже.<br><br>Первый аргумент — это имя функции. Второй аргумент — это выражение, указывающее, как необработанное значение должно быть преобразовано в реальное значение; '@' здесь означает необработанное значение. Это формула, которая будет применяться при считывании значений с чипа. Третий аргумент — это выражение, указывающее, как реальное значение должно быть преобразовано обратно в необработанное значение; '@' здесь означает реальное значение. Это формула, которая будет применяться при записи значений в чип. Эти две формулы, очевидно, связаны и разделены запятой.<br><br>Оператор вычисления применяется ко всем подфункциям целевой функции, для которых это имеет смысл. Например, приведенный выше пример повлияет на подфункции in3_min и in3_max (которые являются значениями напряжения), но не на in3_alarm (который является логическим флагом).<br><br>В операторах вычисления поддерживаются следующие операторы:<br><br>+ - * / ( ) ^ '<br><br>^x означает <strong>exp</strong>(x) и 'x означает <strong>ln</strong>(x).<br><br>Вы можете использовать названия подфункций в этих выражениях; подставляются текущие показания. Вы должны быть осторожны, чтобы избежать циклических ссылок.<br><br>Если в какой-то момент требуется перевод между необработанным и реальным значением, но оператор вычисления не применяется, вместо этого используется перевод один на один.</p>
<h3>Set</h3>
<p>Оператор <i>set</i> используется для записи значения подфункции в <i>chip</i>. Конечно, не все значения подфункций могут быть установлены таким образом, в частности, входные значения и тревожные флаги не могут быть установлены. Действительные подфункции обычно являются минимальными/максимальными ограничениями. Пример:</p>
<blockquote>
  <p>set in3_min 5 * 0.95</p>
  <p>set in3_max 5 * 1.05</p>
</blockquote>
<p>В приведенном выше примере микросхема в основном настраивается таким образом, чтобы обеспечить отклонение в 5% для входной мощности +5 В.<br><br>Первый аргумент — это имя функции. Второй аргумент — это выражение, определяющее записанное значение. Если есть применяющий оператор вычисления, это значение передается его третьему аргументу, чтобы преобразовать его в необработанное значение.<br><br>Вы можете использовать названия подфункций в этих выражениях; подставляются текущие показания. Вы должны быть осторожны, чтобы избежать циклических ссылок.<br><br>Обратите внимание, что операторы set выполняются только <strong>sensors</strong> (1), когда вы используете опцию -s. Типичные приложения с графическими датчиками вообще не заботятся об этих утверждениях.</p>
