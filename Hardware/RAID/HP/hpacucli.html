<!--
title: Untitled Page
description: 
published: true
date: 2023-04-28T07:49:31.310Z
tags: 
editor: code
dateCreated: 2023-04-28T07:48:30.198Z
-->

<h1>Работа с дисковым массивом HP через утилиту hpacucli</h1></div><div class="the-content"><p>Работая с дисковым массивом в режиме online — очень пригодится команда hpacucli (hpssacli). Из названия понятно, что относится она к оборудованию от компании HP. Собрал набор основных команд, которые помогут освоиться с утилитой.<span id="more-569"></span></p><table class="table table-bordered"><thead><tr><th colspan="2">Сокращения</th></tr></thead><tbody><tr><td style="width: 200px;">Сокращения, которые можно использовать в командах</td><td>chassisname = ch<br> controller = ctrl<br> logicaldrive = ld<br> physicaldrive = pd<br> drivewritecache = dwc</td></tr></tbody><thead><tr><th colspan="2">hpacucli</th></tr></thead><tbody><tr><td>hpacucli</td><td># hpacucli<br> # hpacucli helpNote: можете использовать утилиту в своих скриптах</td></tr></tbody><thead><tr><th colspan="2">Управление контроллером дискового массива</th></tr></thead><tbody><tr><td>Показать информацию (детально)</td><td>hpacucli&gt; ctrl all show config<br> hpacucli&gt; ctrl all show config detail</td></tr><tr><td>Статус контроллера</td><td>hpacucli&gt; ctrl all show status</td></tr><tr><td>Управление кэшированием</td><td>hpacucli&gt; ctrl slot=0 modify dwc=disable<br> hpacucli&gt; ctrl slot=0 modify dwc=enable</td></tr><tr><td>Пересканировать устройства, добавленные с момента последнего сканирования</td><td>hpacucli&gt; rescandetects newly added devices since the last rescan</td></tr></tbody><thead><tr><th colspan="2">Управление физическими дисками в массиве</th></tr></thead><tbody><tr><td>Показать информацию (детально)</td><td>hpacucli&gt; ctrl slot=0 pd all show<br> hpacucli&gt; ctrl slot=0 pd 2:3 show detail<br> Можно указать определенный слот для отображения информации только по определенному диску</td></tr><tr><td>Статус дисков</td><td>hpacucli&gt; ctrl slot=0 pd all show status<br> hpacucli&gt; ctrl slot=0 pd 2:3 show status</td></tr><tr><td>Очистака</td><td>hpacucli&gt; ctrl slot=0 pd 2:3 modify erase</td></tr><tr><td>Управление диодами на дисках</td><td>hpacucli&gt; ctrl slot=0 pd 2:3 modify led=on<br> hpacucli&gt; ctrl slot=0 pd 2:3 modify led=off</td></tr></tbody><thead><tr><th colspan="2">Управление логическими дисками</th></tr></thead><tbody><tr><td>Показать информацию (детально)</td><td>hpacucli&gt; ctrl slot=0 ld all show [detail]<br> hpacucli&gt; ctrl slot=0 ld 4 show [detail]</td></tr><tr><td>Статус дисков</td><td>hpacucli&gt; ctrl slot=0 ld all show status<br> hpacucli&gt; ctrl slot=0 ld 4 show status</td></tr><tr><td>Управление диодами на дисках</td><td>hpacucli&gt; ctrl slot=0 ld 4 modify led=on<br> hpacucli&gt; ctrl slot=0 ld 4 modify led=off</td></tr><tr><td>Перезапустить «отказавшие» диски</td><td>hpacucli&gt; ctrl slot=0 ld 4 modify reenable forced</td></tr><tr><td>Создание дисков</td><td># логический диск<br> hpacucli&gt; ctrl slot=0 create type=ld drives=1:12 raid=0# логический диск — чередованиеhpacucli&gt; ctrl slot=0 create type=ld drives=1:13,1:14 size=300 raid=1#логический диск — &nbsp;raid 5<br> hpacucli&gt; ctrl slot=0 create type=ld drives=1:13,1:14,1:15,1:16,1:17 raid=5<span style="line-height: 19px;">drives — конкретные диски, все диски (all drives) или неиспользуемые диски (unassigned drives)</span><br> size -размер логического диска в Мб<br> raid — тип raid 0, 1 , 1+0 and 5</td></tr><tr><td>Удаление</td><td>hpacucli&gt; ctrl slot=0 ld 4 delete</td></tr><tr><td>Добавление дисков</td><td>hpacucli&gt; ctrl slot=0 ld 4 add drives=2:3</td></tr><tr><td>Добавление дискового пространства (принудительно)</td><td>hpacucli&gt; ctrl slot=0 ld 4 modify size=500 forced</td></tr><tr><td>Добавление резервного диска spare</td><td>hpacucli&gt; ctrl slot=0 array all add spares=1:5,1:7</td></tr></tbody></table>