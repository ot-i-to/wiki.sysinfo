<!--
title: IMG образ диска
description: загрузка с образа диска
published: true
date: 2024-02-11T20:06:09.382Z
tags: file, linux, img, bootloader, boot, files, grub, grub2, config
editor: ckeditor
dateCreated: 2024-02-11T19:28:25.472Z
-->

<p><strong>Давайте опишем как настроить GRUB для загрузки любого IMG образа лежащего на локальном диске линукса ( в нашем случае Debian 12 ). Возьмем для примера образ FreeDOS созданный по средствам DD команды с USB-Flash.</strong></p>
<h2>Автоматически режим:</h2>
<p>1) Сперва надо установить приложением <strong>grub-imageboot</strong>:</p>
<pre><code class="language-plaintext">sudo apt install grub-imageboot</code></pre>
<p>2) Потом проверим наличие файла <code>/etc/grub.d/60_grub-imageboot</code> используемого для автоматизации настроек <strong>GRUB</strong>.</p>
<p>3) Создадим директорию <strong>/boot/images</strong> в которой по умолчанию ищет <strong>IMG</strong> образы вышеупомянутый скрипт автоматической настройки:</p>
<pre><code class="language-plaintext">sudo mkdir -p  /boot/images</code></pre>
<p>4) Копируем в созданную директорию свой образ диска:</p>
<pre><code class="language-plaintext">sudo cp usb-dos.img /boot/images</code></pre>
<p>5) И наконец выполняем команду <code>update-grub</code> автоматической настройки <strong>GRUB</strong>.</p>
<p>6) Далее надо проверить как все работает и для этого перегружаемся.&nbsp;</p>
<p>Потом находим в меню загрузчика GRUB, в нашем случае, &nbsp;пункт "<code>Bootable Floppy Image: usb-dos</code>". &nbsp;Выбираем.&nbsp;</p>
<figure class="image"><img src="/img/2024-02-11_22-57.png"></figure>
<p>Полу-ручной режим:</p>
<p>1) Сперва надо установить приложением grub-imageboot:sudo apt install grub-imageboot</p>
<p>2) Потом проверим добавляем следующие строки в файл /etc/grub.d/60_grub-imageboot используемого для автоматизации настроек GRUB.</p>
<p>3) Создадим директорию /boot/images в которой по умолчанию ищет IMG образы вышеупомянутый скрипт автоматической настройки:sudo mkdir -p &nbsp;/boot/images</p>
<p>4) Копируем в созданную директорию свой образ диска:sudo cp usb-dos.img /boot/images</p>
<p>5) И наконец выполняем команду update-grub автоматической настройки GRUBю</p>
<p>6) Далее надо проверить как все работает и для этого перегружаемся. Потом находим в меню загрузчика GRUB, в нашем случае, &nbsp;пункт "Bootable Floppy Image: usb-dos". &nbsp;Выбираем.&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
