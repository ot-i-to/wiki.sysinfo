<!--
title: Lua body parse json 
description: 
published: true
date: 2023-11-29T11:41:02.577Z
tags: lua, web, route, nginx, proxy, body, parsing, parse, json
editor: ckeditor
dateCreated: 2023-11-29T11:41:02.577Z
-->

<p>Это пример как сделать pпрокси сервер с выбором на какой сервер проксировать на основе полученного значения параметра от клиента из json структуры.</p>
<p>В качестве http прокси используем сервер nginx. Сперва установим nginx как будущий прокси с поддержкой lua и модули для lua:</p>
<pre><code class="language-plaintext">sudo apt-get install nginx-extras lua-nginx*
sudo apt-get install lua-zip lua-zlib lua-uri lua-system lua-sql-mysql lua-sql-odbc lua-sql-postgres lua-sql-sqlite3 
lua-redis lua-json lua-http lua-dkjson lua-curl lua-curses lua-cjson</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
